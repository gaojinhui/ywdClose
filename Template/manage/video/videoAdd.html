<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>课程添加</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="format-detection" content="telephone=no">
	<link rel="stylesheet" href="__LAY__css/layui.css" media="all" />
	<script type="text/javascript" charset="utf-8" src="__UE__ueditor.config.js"></script>
	<script type="text/javascript" charset="utf-8" src="__UE__ueditor.all.min.js"> </script>
	<script type="text/javascript" charset="utf-8" src="__UE__lang/zh-cn/zh-cn.js"></script>
</head>
<body class="childrenBody" style="margin-top: 2em">
	<form class="layui-form">
		<div class="layui-form-item">
			<div class="layui-inline">
				<label class="layui-form-label">课程标题：</label>
				<div class="layui-input-block">
					<input type="text" name="titleName" class="layui-input newsAuthor" style="width: 250px" lay-verify="required" placeholder="请输入课程标题">
				</div>
			</div>
		</div>
		<div class="layui-form-item" id="add">
			<div class="layui-inline">
				<label class="layui-form-label">课程名称：</label>
				<div class="layui-input-block">
					<input type="text" name="title" class="layui-input newsAuthor" style="width: 250px" lay-verify="required" placeholder="请输入课程名称">
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">视频地址：</label>
				<div class="layui-input-block">
					<input type="text" name="url" style="width: 250px" class="layui-input newsAuthor"  lay-verify="url" placeholder="请输入视频链接如：www.baidu.com" >
				</div>
			</div>
			<a class="layui-btn layui-btn-xs" href="javascript:;" onclick="addVideoTypeg22222()">增加视频</a>
		</div>
		<input type="hidden" value="" name="number"  id="number"/>
		<div class="layui-form-item">
			<div class="layui-inline">
				<label class="layui-form-label">讲师：</label>
				<div class="layui-input-inline">
					<input type="text" name="lecturer" class="layui-input newsAuthor"  lay-verify="required" placeholder="请输入课程讲师" >
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">价格：</label>
				<div class="layui-input-inline">
					<input type="text" name="price" class="layui-input newsAuthor"  lay-verify="price" placeholder="请输入价格如 19.68" >
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">折扣：</label>
				<div class="layui-input-inline">
					<input type="text" name="rebate" class="layui-input newsAuthor" lay-verify="rebate" placeholder="请输入折扣如 0.96" >
				</div>
			</div>
			<!--<div class="layui-inline">
				<label class="layui-form-label">推荐：</label>
				<div class="layui-input-block">
					<input type="checkbox" name="recommend" class="tuijian" title="推荐">
				</div>
			</div>-->
		</div>
		<div class="layui-form-item">
			<div class="layui-inline">
				<label class="layui-form-label">是否可试听</label>
				<div class="layui-input-block">
					<input type="radio" name="audi" value="1" title="可试听" >
					<input type="radio" name="audi" value="2" title="不可试听"  checked>
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">是否开通</label>
				<div class="layui-input-block">
					<input type="radio" name="fan_xian" value="1" title="开通返现" >
					<input type="radio" name="fan_xian" value="2" title="关闭返现"  checked>
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">返现金额：</label>
				<div class="layui-input-inline">
					<input type="text" name="return_amount" class="layui-input newsAuthor" lay-verify="return_amount" placeholder="请输入返现额度" >
				</div>
			</div>
		</div>
		<!-- <div class="layui-inline">  六月三十号暂时屏蔽调
			<label class="layui-form-label">课程分类</label>
			<div class="layui-input-inline">
				<select name="Type" class="newsLook" lay-filter="browseLook" lay-verify="Type">
					<option value="">请选择</option>
					{volist name="Type" id="data"}
					<option value="{$data.value}">{$data.test_project}</option>
					{/volist}
				</select>
			</div>
		</div> -->
		<!-- <div class="layui-inline">    六月三十号暂时屏蔽调
			<label class="layui-form-label">课程推荐</label>
			<div class="layui-input-inline">
				<select name="fen_id" class="newsLook" lay-filter="browseLook" lay-verify="Type">
					<option value="1">热门课程</option>
					<option value="2">推荐课程</option>
					<option value="3">专项课程</option>
					<option value="4">点播课程</option>
				</select>
			</div>
		</div> -->
		<input type="hidden" value="{$id}" name="vpid"/>
		<div class="layui-form-item">
			<label class="layui-form-label">课程简介</label>
			<div class="layui-input-block">
				<script id="editor" name="editor" type="text/plain" class="layui-form-item">{$data.content|default=''}</script>
			</div>
		</div>
		{if condition="($id neq 173)&&($id neq 174)&&($id neq 175)"}
		<div class="layui-form-item">
			<label class="layui-form-label">训练计划</label>
			<div class="layui-inline">
				<label class="layui-form-label">训练项目</label>
				<div class="layui-input-block">
					<input type="text" name="training_content" class="layui-input newsAuthor" style="width: 250px" placeholder="请输入训练项目">
				</div>
			</div>
		</div>
		<div class="layui-form-item" id="addxunlian">
			<div class="layui-inline">
				<label class="layui-form-label">动作：</label>
				<div class="layui-input-inline">
					<input type="text" name="action0" class="layui-input newsAuthor"  placeholder="请输入动作名称 " >
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">个数/时间：</label>
				<div class="layui-input-inline">
					<input type="text" name="num_time0" class="layui-input newsAuthor"  placeholder="请输入每组要做个数" >
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">组数：</label>
				<div class="layui-input-inline">
					<input type="text" name="group_num0" class="layui-input newsAuthor" placeholder="请输入组数" >
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">组时间：</label>
				<div class="layui-input-inline">
					<input type="text" name="group_time0" class="layui-input newsAuthor" placeholder="请输入每组时间 " >
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-form-label">组间休息：</label>
				<div class="layui-input-inline">
					<input type="text" name="group_rest0" class="layui-input newsAuthor" placeholder="请输入组间休息时间 " >
				</div>
			</div>
			<a class="layui-btn layui-btn-xs" href="javascript:;" onclick="addxunlian()">增加训练计划</a>
		</div>
		{/if}
		<input type="hidden" value="" name="xun_number"  id="xun_number"/>
		<!-- <div class="layui-form-item">
			<label class="layui-form-label">训练时间</label>
			<div class="layui-input-block">
				<input type="text" name="training_time" class="layui-input newsAuthor" style="width: 250px" lay-verify="required" placeholder="训练时间单位秒">
			</div>
		</div> -->
		<div class="layui-form-item">
			<label class="layui-form-label" style="display: block">图片</label>
			<div class="site-demo-upload">
				<div class="layui-upload-drag" id="test10">
					<i class="layui-icon"></i>
					<p>点击上传，或将文件拖拽到此处</p>
				</div>
				<img style="width: 300px; height: 135px; display: none;  margin-top: -60px;" src=""/>
				<input type="hidden" name="image"  id="image" lay-verify="image"  >
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-input-block">
				<button class="layui-btn" lay-submit="" lay-filter="addNews">立即提交</button>
				<button type="reset" class="layui-btn layui-btn-primary">重置</button>
		    </div>
		</div>
	</form>
	<script type="text/javascript" src="__LAY__layui.js"></script>
	<script type="text/javascript" src="__MANAGE__/js/video/videoAdd.js"></script>
	<script type="text/javascript" src="__MANAGE__/js/jquery-3.2.0.min.js"></script>
</body>
</html>
<script>
    var ue = UE.getEditor('editor',{initialFrameWidth:"90.8%",initialFrameHeight:300});
    // 增加视频
    var i=1;
    function addVideoTypeg22222(){
    	var html='';
    	  html="<div class='layui-form-item' id='videodd"+i+"'>";
    	  html+="<div class='layui-inline'>";
	  html+=			"<label class='layui-form-label'>课程名称：</label>";
	  html+=			"<div class='layui-input-block'>";
	  html+=				"<input type='text' name='title"+i+"' class='layui-input newsAuthor' style='width: 250px' lay-verify='required' placeholder='请输入课程名称'>";
	  html+=			"</div>";
	  html+=		"</div>";
	  html+=		"<div class='layui-inline'>";
	  html+=			"<label class='layui-form-label'>视频地址：</label>";
	  html+=			"<div class='layui-input-block'>";
	  html+=				"<input type='text' name='url"+i+"' style='width: 250px' class='layui-input newsAuthor'  lay-verify='url' placeholder='请输入视频链接如：www.baidu.com' >";
	  html+=			"</div>";
	  html+=		"</div>";
	  html+=		"<image src='__MANAGE__/images/cha.png' style='background-color: #ccc;border-radius: 30px;height: 30px;width: 30px;' onclick='delvideo("+i+")'>";
	  html+="</div>";
	$('#add').append(html);
	document.getElementById('number').value=i;
	i=i+1;
    }
     function delvideo(i)
    {
	//根据节点获取当前行
	var o = document.getElementById("videodd"+i);
	o.remove();
	//document.getElementById('xun_number').value=parseInt(i)-1;
    }
    // 增加训练计划
    var a=1;
    function addxunlian()
    {
    	var html='';
    	html+="<div class='layui-form-item' id='ddd"+a+"'>";
	html+=		"<div class='layui-inline'>";
	html+=			"<label class='layui-form-label'>动作：</label>";
	html+=			"<div class='layui-input-inline'>";
	html+=				"<input type='text' name='action"+a+"' class='layui-input newsAuthor'   placeholder='请输入动作名称' >";
	html+=			"</div>";
	html+=		"</div>";
	html+=		"<div class='layui-inline'>";
	html+=			"<label class='layui-form-label'>个数/时间：</label>";
	html+=			"<div class='layui-input-inline'>";
	html+=				"<input type='text' name='num_time"+a+"' class='layui-input newsAuthor'   placeholder='请输入每组要做个数' >";
	html+=			"</div>";
	html+=		"</div>";
	html+=		"<div class='layui-inline'>";
	html+=			"<label class='layui-form-label'>组数：</label>";
	html+=			"<div class='layui-input-inline'>";
	html+=				"<input type='text' name='group_num"+a+"' class='layui-input newsAuthor'  placeholder='请输入组数'>";
	html+=			"</div>";
	html+=		"</div>";
	html+=		"<div class='layui-inline'>";
	html+=			"<label class='layui-form-label'>组时间：</label>";
	html+=			"<div class='layui-input-inline'>";
	html+=				"<input type='text' name='group_time"+a+"' class='layui-input newsAuthor'  placeholder='请输入每组时间'>";
	html+=			"</div>";
	html+=		"</div>";
	html+=		"<div class='layui-inline'>";
	html+=			"<label class='layui-form-label'>组间休息：</label>";
	html+=			"<div class='layui-input-inline'>";
	html+=				"<input type='text' name='group_rest"+a+"' class='layui-input newsAuthor'  placeholder='请输入组间休息时间' >";
	html+=			"</div>";
	html+=		"</div>	";
	html+=		"<image src='__MANAGE__/images/cha.png' style='background-color: #ccc;border-radius: 30px;height: 30px;width: 30px;' onclick='del("+a+")'>";
	html+=	"</div>";
	$('#addxunlian').append(html);
	document.getElementById('xun_number').value=a;
	a=a+1;
    }
    function del(a)
    {
	//获取父元素
	var info = document.getElementById("addxunlian");
	//根据节点获取当前行
	var o = document.getElementById("ddd"+a);
	o.remove();
	//document.getElementById('xun_number').value=parseInt(a)-1;
	//var rowIndex = o.parentNode.parentNode.rowIndex;
	//删除一行
	//info.deleteRow(rowIndex-1);
    }
</script>